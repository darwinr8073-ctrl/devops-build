ğŸš€ Deploying a React Application with Docker and Docker Compose
ğŸ¯ Objective:

ğŸ“‚ Clone the React application repository

ğŸ³ Dockerize it using NGINX

ğŸŒ Run the app on port 80

âš™ï¸ Optionally, create a docker-compose.yml for easy management

Step 1: Clone the Repository ğŸ“
# Clone the React app repo
git clone https://github.com/sriram-R-krishnan/devops-build
cd devops-build
Step 2: Install Docker ğŸ³
# Update packages
sudo apt update

# Install Docker
sudo apt install -y docker.io

# Start Docker service
sudo systemctl start docker

# Enable Docker to start on boot
sudo systemctl enable docker

âœ… Check Docker version:

docker --version
Step 3: Create Dockerfile ğŸ“

Create a file named Dockerfile in the project root:

# Use lightweight NGINX image
FROM nginx:alpine

# Set working directory to NGINX default
WORKDIR /usr/share/nginx/html

# Copy the build folder into NGINX
COPY build/ /usr/share/nginx/html

# Run NGINX in foreground
CMD ["nginx", "-g", "daemon off;"]

ğŸ’¡ Note: Ensure your React app is built first with npm run build so the build/ folder exists. âœ…

Step 4: Build Docker Image ğŸ› ï¸
# Build Docker image with tag 'react-app'
sudo docker build -t react-app .
Step 5: Run Docker Container â–¶ï¸
# Run container in detached mode on port 80
sudo docker run -d -p 80:80 --name react-app react-app

ğŸ”¹ Options explained:

-d â†’ Detached mode

-p 80:80 â†’ Map container port 80 to host port 80

--name react-app â†’ Name the container for easy reference

âœ… Check running container:

docker ps

ğŸŒ Visit your app in browser:

http://<EC2_PUBLIC_IP>
Step 6 (Optional): Create Docker Compose File âš™ï¸

Create docker-compose.yml for easier management:

version: "3.8"

services:
  react-app:
    image: react-app
    build: .
    container_name: react-app
    ports:
      - "80:80"
    restart: unless-stopped

ğŸ’» Run the app using Docker Compose:

# Build and start containers
sudo docker-compose up -d

ğŸ”¹ Options explained:

-d â†’ Detached mode

restart: unless-stopped â†’ ensures the app restarts automatically if Docker restarts

Step 7: Verify Deployment âœ…
# Check running containers
docker ps

# Stop container
docker stop react-app

# Remove container
docker rm react-app

ğŸŒ Open the browser at:

http://<EC2_PUBLIC_IP>
âœ… Outcome:

ğŸ³ The React app is deployed in an NGINX Docker container

ğŸŒ Runs on port 80

âš™ï¸ Can be managed via docker-compose for easier scalability